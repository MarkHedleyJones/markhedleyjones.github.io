{%- if page.related_projects and page.related_projects.size > 0 -%}
<div style="background: var(--color-project-card-bg); padding: 30px; border-radius: 8px; margin: 40px 0; border: 1px solid var(--color-project-card-border);">
  <h2 style="margin-top: 0; color: var(--color-text);">ðŸ”— Related Projects</h2>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
    
    {%- for project_permalink in page.related_projects -%}
      {%- assign project = site.posts | where: "permalink", project_permalink | first -%}
      {%- if project -%}
        <div style="border: 1px solid var(--color-border); border-radius: 6px; padding: 15px; transition: transform 0.2s ease; background: var(--color-highlight-bg);" class="related-project-card">
          <h3 style="margin-top: 0; margin-bottom: 10px;">
            <a href="{{ project.permalink }}" style="text-decoration: none; color: var(--color-link);">{{ project.title }}</a>
          </h3>
          <p style="margin-bottom: 0; color: var(--color-text-muted); font-size: 0.9em;">
            {{ project.description | default: project.excerpt | strip_html | truncatewords: 20 }}
          </p>
        </div>
      {%- endif -%}
    {%- endfor -%}

  </div>
</div>

<style>
/* Add hover effects for related projects */
.related-project-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
</style>
{%- endif -%}